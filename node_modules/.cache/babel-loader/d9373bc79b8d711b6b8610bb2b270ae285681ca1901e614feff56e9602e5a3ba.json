{"ast":null,"code":"var _jsxFileName = \"/Users/maguito/winXP-nostalgia/src/WinXP/apps/Minesweeper/MinesweeperView.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport styled from 'styled-components';\nimport { WindowDropDowns } from 'components';\nimport dropDownData from './dropDownData';\nimport dead from 'assets/minesweeper/dead.png';\nimport smile from 'assets/minesweeper/smile.png';\nimport win from 'assets/minesweeper/win.png';\nimport ohh from 'assets/minesweeper/ohh.png';\nimport empty from 'assets/empty.png';\nimport open1 from 'assets/minesweeper/open1.png';\nimport open2 from 'assets/minesweeper/open2.png';\nimport open3 from 'assets/minesweeper/open3.png';\nimport open4 from 'assets/minesweeper/open4.png';\nimport open5 from 'assets/minesweeper/open5.png';\nimport open6 from 'assets/minesweeper/open6.png';\nimport open7 from 'assets/minesweeper/open7.png';\nimport open8 from 'assets/minesweeper/open8.png';\nimport flag from 'assets/minesweeper/flag.png';\nimport mine from 'assets/minesweeper/mine-ceil.png';\nimport mineDeath from 'assets/minesweeper/mine-death.png';\nimport misFlagged from 'assets/minesweeper/misflagged.png';\nimport question from 'assets/minesweeper/question.png';\nimport digit0 from 'assets/minesweeper/digit0.png';\nimport digit1 from 'assets/minesweeper/digit1.png';\nimport digit2 from 'assets/minesweeper/digit2.png';\nimport digit3 from 'assets/minesweeper/digit3.png';\nimport digit4 from 'assets/minesweeper/digit4.png';\nimport digit5 from 'assets/minesweeper/digit5.png';\nimport digit6 from 'assets/minesweeper/digit6.png';\nimport digit7 from 'assets/minesweeper/digit7.png';\nimport digit8 from 'assets/minesweeper/digit8.png';\nimport digit9 from 'assets/minesweeper/digit9.png';\nimport digit_ from 'assets/minesweeper/digit-.png';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst digits = [digit0, digit1, digit2, digit3, digit4, digit5, digit6, digit7, digit8, digit9];\nfunction renderDigits(number) {\n  let numberStr;\n  if (number < 0) {\n    const _number = -number % 100;\n    if (_number === 0) {\n      numberStr = '00';\n    } else if (_number < 10) {\n      numberStr = '0' + _number;\n    } else {\n      numberStr = String(_number);\n    }\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: digit_,\n        alt: \"-\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), numberStr.split('').map((n, i) => /*#__PURE__*/_jsxDEV(\"img\", {\n        src: digits[n],\n        alt: n\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true);\n  }\n  numberStr = number < 999 ? String(number) : '999';\n  if (number < 10) numberStr = '00' + numberStr;else if (number < 100) numberStr = '0' + numberStr;\n  return numberStr.split('').map((n, i) => /*#__PURE__*/_jsxDEV(\"img\", {\n    src: digits[n],\n    alt: n\n  }, i, false, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 20\n  }, this));\n}\nfunction genDropDownData(difficulty) {\n  let _Game = [...dropDownData.Game];\n  _Game[2].symbol = difficulty === 'Beginner' && 'check';\n  _Game[3].symbol = difficulty === 'Intermediate' && 'check';\n  _Game[4].symbol = difficulty === 'Expert' && 'check';\n  return {\n    Game: _Game,\n    Help: dropDownData.Help\n  };\n}\nfunction MineSweeperView(_ref) {\n  _s();\n  let {\n    ceils,\n    className,\n    changeCeilState,\n    onReset,\n    openCeil,\n    openCeils,\n    mines,\n    status,\n    seconds,\n    onClose,\n    difficulty,\n    openingCeil,\n    openingCeils\n  } = _ref;\n  const face = useRef(null);\n  const [mouseDownContent, setMouseDownContent] = useState(false);\n  const [openBehavior, setOpenBehavior] = useState({\n    index: -1,\n    behavior: ''\n  });\n  function remainMines() {\n    return mines - ceils.filter(ceil => ceil.state === 'flag' || ceil.state === 'misflagged').length;\n  }\n  function statusFace() {\n    if (mouseDownContent) return /*#__PURE__*/_jsxDEV(\"img\", {\n      alt: \"ohh\",\n      src: ohh\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 34\n    }, this);\n    switch (status) {\n      case 'died':\n        return /*#__PURE__*/_jsxDEV(\"img\", {\n          alt: \"dead\",\n          src: dead\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 16\n        }, this);\n      case 'won':\n        return /*#__PURE__*/_jsxDEV(\"img\", {\n          alt: \"win\",\n          src: win\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 16\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(\"img\", {\n          alt: \"smile\",\n          src: smile\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 16\n        }, this);\n    }\n  }\n  function onMouseDownContent(e) {\n    if (e.button !== 0) return;\n    if (face.current.contains(e.target) || status === 'won' || status === 'died') return;\n    setMouseDownContent(true);\n  }\n  useEffect(() => {\n    const {\n      index,\n      behavior\n    } = openBehavior;\n    switch (behavior) {\n      case 'single':\n        return openingCeil(index);\n      case 'multi':\n        return openingCeils(index);\n      default:\n        openingCeil(-1);\n    }\n    // eslint-disable-next-line\n  }, [openBehavior.index, openBehavior.behavior]);\n  function onMouseDownCeils(e) {\n    const index = Array.prototype.indexOf.call(e.currentTarget.children, e.target.closest('.mine__ceil'));\n    if (e.button === 2 && e.buttons === 2 && index !== -1) {\n      changeCeilState(index);\n    } else if (e.button === 0 && e.buttons === 1) {\n      setOpenBehavior({\n        index,\n        behavior: 'single'\n      });\n    } else if (e.buttons === 3) {\n      setOpenBehavior({\n        index,\n        behavior: 'multi'\n      });\n    }\n  }\n  function onMouseOverCeils(e) {\n    const index = Array.prototype.indexOf.call(e.currentTarget.children, e.target.closest('.mine__ceil'));\n    setOpenBehavior({\n      index,\n      behavior: openBehavior.behavior\n    });\n  }\n  function onMouseUpCeils() {\n    const {\n      behavior,\n      index\n    } = openBehavior;\n    if (index === -1) return;\n    if (behavior === 'single') {\n      openCeil(index);\n    } else if (behavior === 'multi') {\n      openCeils(index);\n    }\n  }\n  function onClickOptionItem(item) {\n    switch (item) {\n      case 'Exit':\n        onClose();\n        break;\n      case 'Beginner':\n      case 'Intermediate':\n      case 'Expert':\n        onReset(item);\n        break;\n      case 'New':\n        onReset();\n        break;\n      default:\n    }\n  }\n  useEffect(() => {\n    window.addEventListener('mouseup', onMouseUp);\n    return () => {\n      window.removeEventListener('mouseup', onMouseUp);\n    };\n  }, []);\n  function onMouseUp(e) {\n    setOpenBehavior({\n      index: -1,\n      behavior: ''\n    });\n    setMouseDownContent(false);\n  }\n  useEffect(() => {\n    window.addEventListener('mouseup', onMouseUp);\n    return () => {\n      window.removeEventListener('mouseup', onMouseUp);\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: className,\n    onContextMenu: e => e.preventDefault(),\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mine__options\",\n      children: /*#__PURE__*/_jsxDEV(WindowDropDowns, {\n        items: genDropDownData(difficulty),\n        onClickItem: onClickOptionItem\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"mine__content\",\n      onMouseDown: onMouseDownContent,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mine__score-bar\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mine__digits__outer\",\n          children: renderDigits(remainMines())\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mine__face__outer\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            ref: face,\n            className: \"mine__face\",\n            onClick: () => onReset(),\n            children: [statusFace(), /*#__PURE__*/_jsxDEV(\"img\", {\n              alt: \"smile\",\n              src: smile\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mine__digits__outer\",\n          children: renderDigits(seconds)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mine__content__inner\",\n        onMouseDown: onMouseDownCeils,\n        onMouseOver: onMouseOverCeils,\n        onMouseUp: onMouseUpCeils,\n        children: /*#__PURE__*/_jsxDEV(Ceils, {\n          ceils: ceils\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 214,\n    columnNumber: 5\n  }, this);\n}\n_s(MineSweeperView, \"vyG53k/WOeg4FVSAPGQtmDMdRqU=\");\n_c = MineSweeperView;\nfunction getTextImg(index) {\n  return [empty, open1, open2, open3, open4, open5, open6, open7, open8][index];\n}\nfunction Ceils(_ref2) {\n  let {\n    ceils\n  } = _ref2;\n  function renderContent(ceil) {\n    const {\n      state,\n      minesAround,\n      opening\n    } = ceil;\n    switch (state) {\n      case 'open':\n        return /*#__PURE__*/_jsxDEV(MinesAround, {\n          mines: minesAround\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 16\n        }, this);\n      case 'flag':\n        return /*#__PURE__*/_jsxDEV(Flag, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 16\n        }, this);\n      case 'misflagged':\n        return /*#__PURE__*/_jsxDEV(MisFlagged, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 16\n        }, this);\n      case 'mine':\n        return /*#__PURE__*/_jsxDEV(Mine, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 16\n        }, this);\n      case 'die':\n        return /*#__PURE__*/_jsxDEV(Die, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 16\n        }, this);\n      case 'unknown':\n        return opening ? /*#__PURE__*/_jsxDEV(QuestionOpen, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 26\n        }, this) : /*#__PURE__*/_jsxDEV(Question, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 45\n        }, this);\n      default:\n        return opening ? /*#__PURE__*/_jsxDEV(CeilBackgroundOpen, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 26\n        }, this) : /*#__PURE__*/_jsxDEV(CeilBackgroundCover, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 51\n        }, this);\n    }\n  }\n  return ceils.map((ceil, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mine__ceil\",\n    children: renderContent(ceil)\n  }, index, false, {\n    fileName: _jsxFileName,\n    lineNumber: 271,\n    columnNumber: 5\n  }, this));\n}\n_c2 = Ceils;\nconst Die = () => /*#__PURE__*/_jsxDEV(_Fragment, {\n  children: [/*#__PURE__*/_jsxDEV(CeilBackgroundOpen, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 279,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n    alt: \"death\",\n    src: mineDeath\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 280,\n    columnNumber: 5\n  }, this)]\n}, void 0, true);\n_c3 = Die;\nconst MisFlagged = () => /*#__PURE__*/_jsxDEV(_Fragment, {\n  children: [/*#__PURE__*/_jsxDEV(CeilBackgroundOpen, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 285,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n    alt: \"misFlagged\",\n    src: misFlagged\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 286,\n    columnNumber: 5\n  }, this)]\n}, void 0, true);\n_c4 = MisFlagged;\nconst Flag = () => /*#__PURE__*/_jsxDEV(_Fragment, {\n  children: [/*#__PURE__*/_jsxDEV(CeilBackgroundCover, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 291,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n    alt: \"flag\",\n    src: flag\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 292,\n    columnNumber: 5\n  }, this)]\n}, void 0, true);\n_c5 = Flag;\nconst MinesAround = _ref3 => {\n  let {\n    mines\n  } = _ref3;\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(CeilBackgroundOpen, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n      alt: \"mines-around\",\n      src: getTextImg(mines)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true);\n};\n_c6 = MinesAround;\nconst Question = () => /*#__PURE__*/_jsxDEV(_Fragment, {\n  children: [/*#__PURE__*/_jsxDEV(CeilBackgroundCover, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 303,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n    alt: \"question\",\n    src: question\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 304,\n    columnNumber: 5\n  }, this)]\n}, void 0, true);\n_c7 = Question;\nconst QuestionOpen = () => /*#__PURE__*/_jsxDEV(_Fragment, {\n  children: [/*#__PURE__*/_jsxDEV(CeilBackgroundOpen, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 309,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n    alt: \"question\",\n    src: question\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 310,\n    columnNumber: 5\n  }, this)]\n}, void 0, true);\n_c8 = QuestionOpen;\nconst Mine = () => /*#__PURE__*/_jsxDEV(_Fragment, {\n  children: [/*#__PURE__*/_jsxDEV(CeilBackgroundOpen, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 315,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n    alt: \"mine\",\n    src: mine\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 316,\n    columnNumber: 5\n  }, this)]\n}, void 0, true);\n_c9 = Mine;\nconst CeilBackgroundCover = styled.div`\n  position: absolute;\n  width: 16px;\n  height: 16px;\n  border-left: rgb(245, 245, 245) solid 2px;\n  border-top: rgb(245, 245, 245) solid 2px;\n  border-right: rgb(128, 128, 128) solid 2px;\n  border-bottom: rgb(128, 128, 128) solid 2px;\n`;\n_c10 = CeilBackgroundCover;\nconst CeilBackgroundOpen = styled.div`\n  position: absolute;\n  width: 16px;\n  height: 16px;\n  border-left: rgb(128, 128, 128) solid 1px;\n  border-top: rgb(128, 128, 128) solid 1px;\n`;\n_c11 = CeilBackgroundOpen;\nexport default styled(MineSweeperView)`\n  img {\n    pointer-events: none;\n  }\n  .mine__options {\n    height: 20px;\n    background: rgb(236, 233, 216);\n  }\n  .mine__content {\n    border-left: rgb(245, 245, 245) solid 3px;\n    border-top: rgb(245, 245, 245) solid 3px;\n    background-color: rgb(192, 192, 192);\n    padding: 5px;\n  }\n  .mine__score-bar {\n    height: 34px;\n    border-radius: 1px;\n    border-top: rgb(128, 128, 128) solid 2px;\n    border-left: rgb(128, 128, 128) solid 2px;\n    border-right: rgb(245, 245, 245) solid 2px;\n    border-bottom: rgb(245, 245, 245) solid 2px;\n    margin-bottom: 5px;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    padding: 3px 7px 3px 4px;\n  }\n  .mine__digits__outer {\n    width: 40px;\n    height: 24px;\n    border-width: 0 1px 1px 0;\n    border-style: solid;\n    border-color: #fff;\n    text-align: right;\n  }\n  .mine__face__outer {\n    width: 24px;\n    height: 24px;\n    border-top: 1px solid rgb(128, 128, 128);\n    border-left: 1px solid rgb(128, 128, 128);\n    border-radius: 2px;\n    transform: translateX(1px);\n  }\n  .mine__face {\n    border-radius: 2px;\n    height: 100%;\n    width: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background-color: rgb(192, 192, 192);\n    border-width: 2px;\n    border-style: solid;\n    border-color: rgb(245, 245, 245) rgb(128, 128, 128) rgb(128, 128, 128)\n      rgb(245, 245, 245);\n    outline: none;\n    &:active:hover {\n      border-width: 1px;\n      border-color: rgb(128, 128, 128);\n      img {\n        transform: translate(1px, 1px);\n      }\n      img:nth-child(1) {\n        display: none;\n      }\n      img:nth-child(2) {\n        display: block;\n      }\n    }\n    img:nth-child(2) {\n      display: none;\n    }\n  }\n  .mine__content__inner {\n    display: grid;\n    grid-template-columns: repeat(${_ref4 => {\n  let {\n    columns\n  } = _ref4;\n  return columns;\n}}, 16px);\n    grid-template-rows: repeat(${_ref5 => {\n  let {\n    rows\n  } = _ref5;\n  return rows;\n}}, 16px);\n    border-top: rgb(128, 128, 128) solid 3px;\n    border-left: rgb(128, 128, 128) solid 3px;\n    border-right: rgb(245, 245, 245) solid 3px;\n    border-bottom: rgb(245, 245, 245) solid 3px;\n  }\n  .mine__ceil {\n    position: relative;\n    img {\n      position: absolute;\n      width: 16px;\n      height: 16px;\n    }\n  }\n`;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10, _c11;\n$RefreshReg$(_c, \"MineSweeperView\");\n$RefreshReg$(_c2, \"Ceils\");\n$RefreshReg$(_c3, \"Die\");\n$RefreshReg$(_c4, \"MisFlagged\");\n$RefreshReg$(_c5, \"Flag\");\n$RefreshReg$(_c6, \"MinesAround\");\n$RefreshReg$(_c7, \"Question\");\n$RefreshReg$(_c8, \"QuestionOpen\");\n$RefreshReg$(_c9, \"Mine\");\n$RefreshReg$(_c10, \"CeilBackgroundCover\");\n$RefreshReg$(_c11, \"CeilBackgroundOpen\");","map":{"version":3,"names":["React","useEffect","useRef","useState","styled","WindowDropDowns","dropDownData","dead","smile","win","ohh","empty","open1","open2","open3","open4","open5","open6","open7","open8","flag","mine","mineDeath","misFlagged","question","digit0","digit1","digit2","digit3","digit4","digit5","digit6","digit7","digit8","digit9","digit_","jsxDEV","_jsxDEV","Fragment","_Fragment","digits","renderDigits","number","numberStr","_number","String","children","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","split","map","n","i","genDropDownData","difficulty","_Game","Game","symbol","Help","MineSweeperView","_ref","_s","ceils","className","changeCeilState","onReset","openCeil","openCeils","mines","status","seconds","onClose","openingCeil","openingCeils","face","mouseDownContent","setMouseDownContent","openBehavior","setOpenBehavior","index","behavior","remainMines","filter","ceil","state","length","statusFace","onMouseDownContent","e","button","current","contains","target","onMouseDownCeils","Array","prototype","indexOf","call","currentTarget","closest","buttons","onMouseOverCeils","onMouseUpCeils","onClickOptionItem","item","window","addEventListener","onMouseUp","removeEventListener","onContextMenu","preventDefault","items","onClickItem","onMouseDown","ref","onClick","onMouseOver","Ceils","_c","getTextImg","_ref2","renderContent","minesAround","opening","MinesAround","Flag","MisFlagged","Mine","Die","QuestionOpen","Question","CeilBackgroundOpen","CeilBackgroundCover","_c2","_c3","_c4","_c5","_ref3","_c6","_c7","_c8","_c9","div","_c10","_c11","_ref4","columns","_ref5","rows","$RefreshReg$"],"sources":["/Users/maguito/winXP-nostalgia/src/WinXP/apps/Minesweeper/MinesweeperView.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport styled from 'styled-components';\n\nimport { WindowDropDowns } from 'components';\nimport dropDownData from './dropDownData';\nimport dead from 'assets/minesweeper/dead.png';\nimport smile from 'assets/minesweeper/smile.png';\nimport win from 'assets/minesweeper/win.png';\nimport ohh from 'assets/minesweeper/ohh.png';\nimport empty from 'assets/empty.png';\nimport open1 from 'assets/minesweeper/open1.png';\nimport open2 from 'assets/minesweeper/open2.png';\nimport open3 from 'assets/minesweeper/open3.png';\nimport open4 from 'assets/minesweeper/open4.png';\nimport open5 from 'assets/minesweeper/open5.png';\nimport open6 from 'assets/minesweeper/open6.png';\nimport open7 from 'assets/minesweeper/open7.png';\nimport open8 from 'assets/minesweeper/open8.png';\nimport flag from 'assets/minesweeper/flag.png';\nimport mine from 'assets/minesweeper/mine-ceil.png';\nimport mineDeath from 'assets/minesweeper/mine-death.png';\nimport misFlagged from 'assets/minesweeper/misflagged.png';\nimport question from 'assets/minesweeper/question.png';\nimport digit0 from 'assets/minesweeper/digit0.png';\nimport digit1 from 'assets/minesweeper/digit1.png';\nimport digit2 from 'assets/minesweeper/digit2.png';\nimport digit3 from 'assets/minesweeper/digit3.png';\nimport digit4 from 'assets/minesweeper/digit4.png';\nimport digit5 from 'assets/minesweeper/digit5.png';\nimport digit6 from 'assets/minesweeper/digit6.png';\nimport digit7 from 'assets/minesweeper/digit7.png';\nimport digit8 from 'assets/minesweeper/digit8.png';\nimport digit9 from 'assets/minesweeper/digit9.png';\nimport digit_ from 'assets/minesweeper/digit-.png';\n\nconst digits = [\n  digit0,\n  digit1,\n  digit2,\n  digit3,\n  digit4,\n  digit5,\n  digit6,\n  digit7,\n  digit8,\n  digit9,\n];\nfunction renderDigits(number) {\n  let numberStr;\n  if (number < 0) {\n    const _number = -number % 100;\n    if (_number === 0) {\n      numberStr = '00';\n    } else if (_number < 10) {\n      numberStr = '0' + _number;\n    } else {\n      numberStr = String(_number);\n    }\n    return (\n      <>\n        <img src={digit_} alt=\"-\" />\n        {numberStr.split('').map((n, i) => (\n          <img src={digits[n]} key={i} alt={n} />\n        ))}\n      </>\n    );\n  }\n\n  numberStr = number < 999 ? String(number) : '999';\n  if (number < 10) numberStr = '00' + numberStr;\n  else if (number < 100) numberStr = '0' + numberStr;\n  return numberStr\n    .split('')\n    .map((n, i) => <img key={i} src={digits[n]} alt={n} />);\n}\n\nfunction genDropDownData(difficulty) {\n  let _Game = [...dropDownData.Game];\n  _Game[2].symbol = difficulty === 'Beginner' && 'check';\n  _Game[3].symbol = difficulty === 'Intermediate' && 'check';\n  _Game[4].symbol = difficulty === 'Expert' && 'check';\n  return { Game: _Game, Help: dropDownData.Help };\n}\n\nfunction MineSweeperView({\n  ceils,\n  className,\n  changeCeilState,\n  onReset,\n  openCeil,\n  openCeils,\n  mines,\n  status,\n  seconds,\n  onClose,\n  difficulty,\n  openingCeil,\n  openingCeils,\n}) {\n  const face = useRef(null);\n  const [mouseDownContent, setMouseDownContent] = useState(false);\n  const [openBehavior, setOpenBehavior] = useState({ index: -1, behavior: '' });\n  function remainMines() {\n    return (\n      mines -\n      ceils.filter(ceil => ceil.state === 'flag' || ceil.state === 'misflagged')\n        .length\n    );\n  }\n  function statusFace() {\n    if (mouseDownContent) return <img alt=\"ohh\" src={ohh} />;\n    switch (status) {\n      case 'died':\n        return <img alt=\"dead\" src={dead} />;\n      case 'won':\n        return <img alt=\"win\" src={win} />;\n      default:\n        return <img alt=\"smile\" src={smile} />;\n    }\n  }\n  function onMouseDownContent(e) {\n    if (e.button !== 0) return;\n    if (\n      face.current.contains(e.target) ||\n      status === 'won' ||\n      status === 'died'\n    )\n      return;\n    setMouseDownContent(true);\n  }\n  useEffect(() => {\n    const { index, behavior } = openBehavior;\n    switch (behavior) {\n      case 'single':\n        return openingCeil(index);\n      case 'multi':\n        return openingCeils(index);\n      default:\n        openingCeil(-1);\n    }\n    // eslint-disable-next-line\n  }, [openBehavior.index, openBehavior.behavior]);\n  function onMouseDownCeils(e) {\n    const index = Array.prototype.indexOf.call(\n      e.currentTarget.children,\n      e.target.closest('.mine__ceil'),\n    );\n    if (e.button === 2 && e.buttons === 2 && index !== -1) {\n      changeCeilState(index);\n    } else if (e.button === 0 && e.buttons === 1) {\n      setOpenBehavior({\n        index,\n        behavior: 'single',\n      });\n    } else if (e.buttons === 3) {\n      setOpenBehavior({\n        index,\n        behavior: 'multi',\n      });\n    }\n  }\n  function onMouseOverCeils(e) {\n    const index = Array.prototype.indexOf.call(\n      e.currentTarget.children,\n      e.target.closest('.mine__ceil'),\n    );\n    setOpenBehavior({\n      index,\n      behavior: openBehavior.behavior,\n    });\n  }\n  function onMouseUpCeils() {\n    const { behavior, index } = openBehavior;\n    if (index === -1) return;\n    if (behavior === 'single') {\n      openCeil(index);\n    } else if (behavior === 'multi') {\n      openCeils(index);\n    }\n  }\n  function onClickOptionItem(item) {\n    switch (item) {\n      case 'Exit':\n        onClose();\n        break;\n      case 'Beginner':\n      case 'Intermediate':\n      case 'Expert':\n        onReset(item);\n        break;\n      case 'New':\n        onReset();\n        break;\n      default:\n    }\n  }\n  useEffect(() => {\n    window.addEventListener('mouseup', onMouseUp);\n    return () => {\n      window.removeEventListener('mouseup', onMouseUp);\n    };\n  }, []);\n  function onMouseUp(e) {\n    setOpenBehavior({ index: -1, behavior: '' });\n    setMouseDownContent(false);\n  }\n  useEffect(() => {\n    window.addEventListener('mouseup', onMouseUp);\n    return () => {\n      window.removeEventListener('mouseup', onMouseUp);\n    };\n  }, []);\n  return (\n    <div className={className} onContextMenu={e => e.preventDefault()}>\n      <div className=\"mine__options\">\n        <WindowDropDowns\n          items={genDropDownData(difficulty)}\n          onClickItem={onClickOptionItem}\n        />\n      </div>\n      <section className=\"mine__content\" onMouseDown={onMouseDownContent}>\n        <div className=\"mine__score-bar\">\n          <div className=\"mine__digits__outer\">\n            {renderDigits(remainMines())}\n          </div>\n          <div className=\"mine__face__outer\">\n            <button ref={face} className=\"mine__face\" onClick={() => onReset()}>\n              {statusFace()}\n              <img alt=\"smile\" src={smile} />\n            </button>\n          </div>\n          <div className=\"mine__digits__outer\">{renderDigits(seconds)}</div>\n        </div>\n        <div\n          className=\"mine__content__inner\"\n          onMouseDown={onMouseDownCeils}\n          onMouseOver={onMouseOverCeils}\n          onMouseUp={onMouseUpCeils}\n        >\n          <Ceils ceils={ceils} />\n        </div>\n      </section>\n    </div>\n  );\n}\nfunction getTextImg(index) {\n  return [empty, open1, open2, open3, open4, open5, open6, open7, open8][index];\n}\nfunction Ceils({ ceils }) {\n  function renderContent(ceil) {\n    const { state, minesAround, opening } = ceil;\n    switch (state) {\n      case 'open':\n        return <MinesAround mines={minesAround} />;\n      case 'flag':\n        return <Flag />;\n      case 'misflagged':\n        return <MisFlagged />;\n      case 'mine':\n        return <Mine />;\n      case 'die':\n        return <Die />;\n      case 'unknown':\n        return opening ? <QuestionOpen /> : <Question />;\n      default:\n        return opening ? <CeilBackgroundOpen /> : <CeilBackgroundCover />;\n    }\n  }\n\n  return ceils.map((ceil, index) => (\n    <div key={index} className=\"mine__ceil\">\n      {renderContent(ceil)}\n    </div>\n  ));\n}\n\nconst Die = () => (\n  <>\n    <CeilBackgroundOpen />\n    <img alt=\"death\" src={mineDeath} />\n  </>\n);\nconst MisFlagged = () => (\n  <>\n    <CeilBackgroundOpen />\n    <img alt=\"misFlagged\" src={misFlagged} />\n  </>\n);\nconst Flag = () => (\n  <>\n    <CeilBackgroundCover />\n    <img alt=\"flag\" src={flag} />\n  </>\n);\nconst MinesAround = ({ mines }) => (\n  <>\n    <CeilBackgroundOpen />\n    <img alt=\"mines-around\" src={getTextImg(mines)} />\n  </>\n);\nconst Question = () => (\n  <>\n    <CeilBackgroundCover />\n    <img alt=\"question\" src={question} />\n  </>\n);\nconst QuestionOpen = () => (\n  <>\n    <CeilBackgroundOpen />\n    <img alt=\"question\" src={question} />\n  </>\n);\nconst Mine = () => (\n  <>\n    <CeilBackgroundOpen />\n    <img alt=\"mine\" src={mine} />\n  </>\n);\n\nconst CeilBackgroundCover = styled.div`\n  position: absolute;\n  width: 16px;\n  height: 16px;\n  border-left: rgb(245, 245, 245) solid 2px;\n  border-top: rgb(245, 245, 245) solid 2px;\n  border-right: rgb(128, 128, 128) solid 2px;\n  border-bottom: rgb(128, 128, 128) solid 2px;\n`;\nconst CeilBackgroundOpen = styled.div`\n  position: absolute;\n  width: 16px;\n  height: 16px;\n  border-left: rgb(128, 128, 128) solid 1px;\n  border-top: rgb(128, 128, 128) solid 1px;\n`;\n\nexport default styled(MineSweeperView)`\n  img {\n    pointer-events: none;\n  }\n  .mine__options {\n    height: 20px;\n    background: rgb(236, 233, 216);\n  }\n  .mine__content {\n    border-left: rgb(245, 245, 245) solid 3px;\n    border-top: rgb(245, 245, 245) solid 3px;\n    background-color: rgb(192, 192, 192);\n    padding: 5px;\n  }\n  .mine__score-bar {\n    height: 34px;\n    border-radius: 1px;\n    border-top: rgb(128, 128, 128) solid 2px;\n    border-left: rgb(128, 128, 128) solid 2px;\n    border-right: rgb(245, 245, 245) solid 2px;\n    border-bottom: rgb(245, 245, 245) solid 2px;\n    margin-bottom: 5px;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    padding: 3px 7px 3px 4px;\n  }\n  .mine__digits__outer {\n    width: 40px;\n    height: 24px;\n    border-width: 0 1px 1px 0;\n    border-style: solid;\n    border-color: #fff;\n    text-align: right;\n  }\n  .mine__face__outer {\n    width: 24px;\n    height: 24px;\n    border-top: 1px solid rgb(128, 128, 128);\n    border-left: 1px solid rgb(128, 128, 128);\n    border-radius: 2px;\n    transform: translateX(1px);\n  }\n  .mine__face {\n    border-radius: 2px;\n    height: 100%;\n    width: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background-color: rgb(192, 192, 192);\n    border-width: 2px;\n    border-style: solid;\n    border-color: rgb(245, 245, 245) rgb(128, 128, 128) rgb(128, 128, 128)\n      rgb(245, 245, 245);\n    outline: none;\n    &:active:hover {\n      border-width: 1px;\n      border-color: rgb(128, 128, 128);\n      img {\n        transform: translate(1px, 1px);\n      }\n      img:nth-child(1) {\n        display: none;\n      }\n      img:nth-child(2) {\n        display: block;\n      }\n    }\n    img:nth-child(2) {\n      display: none;\n    }\n  }\n  .mine__content__inner {\n    display: grid;\n    grid-template-columns: repeat(${({ columns }) => columns}, 16px);\n    grid-template-rows: repeat(${({ rows }) => rows}, 16px);\n    border-top: rgb(128, 128, 128) solid 3px;\n    border-left: rgb(128, 128, 128) solid 3px;\n    border-right: rgb(245, 245, 245) solid 3px;\n    border-bottom: rgb(245, 245, 245) solid 3px;\n  }\n  .mine__ceil {\n    position: relative;\n    img {\n      position: absolute;\n      width: 16px;\n      height: 16px;\n    }\n  }\n`;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}