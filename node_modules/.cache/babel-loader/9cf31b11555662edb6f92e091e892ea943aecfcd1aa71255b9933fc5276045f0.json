{"ast":null,"code":"var _jsxFileName = \"/Users/maguito/Desktop/Content/Coding/winXP-nostalgia/src/WinXP/Icons/index.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Icons(_ref) {\n  _s();\n  let {\n    icons,\n    onMouseDown,\n    onDoubleClick,\n    displayFocus,\n    mouse,\n    selecting,\n    setSelectedIcons\n  } = _ref;\n  const [iconsRect, setIconsRect] = useState([]);\n  function measure(rect) {\n    if (iconsRect.find(r => r.id === rect.id)) return;\n    setIconsRect(iconsRect => [...iconsRect, rect]);\n  }\n  useEffect(() => {\n    if (!selecting) return;\n    const sx = Math.min(selecting.x, mouse.docX);\n    const sy = Math.min(selecting.y, mouse.docY);\n    const sw = Math.abs(selecting.x - mouse.docX);\n    const sh = Math.abs(selecting.y - mouse.docY);\n    const selectedIds = iconsRect.filter(rect => {\n      const {\n        x,\n        y,\n        w,\n        h\n      } = rect;\n      return x - sx < sw && sx - x < w && y - sy < sh && sy - y < h;\n    }).map(icon => icon.id);\n    setSelectedIcons(selectedIds);\n  }, [iconsRect, setSelectedIcons, selecting, mouse.docX, mouse.docY]);\n  return /*#__PURE__*/_jsxDEV(IconsContainer, {\n    children: icons.map(icon => /*#__PURE__*/_jsxDEV(StyledIcon, {\n      ...icon,\n      displayFocus: displayFocus,\n      onMouseDown: onMouseDown,\n      onDoubleClick: onDoubleClick,\n      measure: measure\n    }, icon.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 9\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 5\n  }, this);\n}\n_s(Icons, \"wm5fVZAOayUM7wXo8XVjp2kSYU8=\");\n_c = Icons;\nfunction Icon(_ref2) {\n  _s2();\n  let {\n    title,\n    onMouseDown,\n    onDoubleClick,\n    icon,\n    className,\n    id,\n    component,\n    measure\n  } = _ref2;\n  const ref = useRef(null);\n  function _onMouseDown() {\n    onMouseDown(id);\n  }\n  function _onDoubleClick() {\n    onDoubleClick(component);\n  }\n  useEffect(() => {\n    const target = ref.current;\n    if (!target) return;\n    const {\n      left,\n      top,\n      width,\n      height\n    } = ref.current.getBoundingClientRect();\n    const posX = left + window.scrollX;\n    const posY = top + window.scrollY;\n    measure({\n      id,\n      x: posX,\n      y: posY,\n      w: width,\n      h: height\n    });\n  }, [id, measure]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: className,\n    onMouseDown: _onMouseDown,\n    onDoubleClick: _onDoubleClick,\n    ref: ref,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: `${className}__img__container`,\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: icon,\n        alt: title,\n        className: `${className}__img`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `${className}__text__container`,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `${className}__text`,\n        children: title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 5\n  }, this);\n}\n_s2(Icon, \"8uVE59eA/r6b92xF80p7sH8rXLk=\");\n_c2 = Icon;\nconst IconsContainer = styled.div`\n  position: absolute;\n  margin-top: 40px;\n  margin-left: 40px;\n`;\n_c3 = IconsContainer;\nconst StyledIcon = styled(Icon)`\n  width: 70px;\n  margin-bottom: 30px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  &__text__container {\n    width: 100%;\n    font-size: 10px;\n    color: white;\n    text-shadow: 0 1px 1px black;\n    margin-top: 5px;\n    display: flex;\n    justify-content: center;\n\n    &:before {\n      content: '';\n      display: block;\n      flex-grow: 1;\n    }\n    &:after {\n      content: '';\n      display: block;\n      flex-grow: 1;\n    }\n  }\n  &__text {\n    padding: 0 3px 2px;\n    background-color: ${_ref3 => {\n  let {\n    isFocus,\n    displayFocus\n  } = _ref3;\n  return isFocus && displayFocus ? '#0b61ff' : 'transparent';\n}};\n    text-align: center;\n    flex-shrink: 1;\n  }\n  &__img__container {\n    width: 30px;\n    height: 30px;\n    filter: ${_ref4 => {\n  let {\n    isFocus,\n    displayFocus\n  } = _ref4;\n  return isFocus && displayFocus ? 'drop-shadow(0 0 blue)' : '';\n}};\n  }\n  &__img {\n    width: 30px;\n    height: 30px;\n    opacity: ${_ref5 => {\n  let {\n    isFocus,\n    displayFocus\n  } = _ref5;\n  return isFocus && displayFocus ? 0.5 : 1;\n}};\n  }\n`;\n_c4 = StyledIcon;\nexport default Icons;\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"Icons\");\n$RefreshReg$(_c2, \"Icon\");\n$RefreshReg$(_c3, \"IconsContainer\");\n$RefreshReg$(_c4, \"StyledIcon\");","map":{"version":3,"names":["React","useState","useRef","useEffect","styled","jsxDEV","_jsxDEV","Icons","_ref","_s","icons","onMouseDown","onDoubleClick","displayFocus","mouse","selecting","setSelectedIcons","iconsRect","setIconsRect","measure","rect","find","r","id","sx","Math","min","x","docX","sy","y","docY","sw","abs","sh","selectedIds","filter","w","h","map","icon","IconsContainer","children","StyledIcon","fileName","_jsxFileName","lineNumber","columnNumber","_c","Icon","_ref2","_s2","title","className","component","ref","_onMouseDown","_onDoubleClick","target","current","left","top","width","height","getBoundingClientRect","posX","window","scrollX","posY","scrollY","src","alt","_c2","div","_c3","_ref3","isFocus","_ref4","_ref5","_c4","$RefreshReg$"],"sources":["/Users/maguito/Desktop/Content/Coding/winXP-nostalgia/src/WinXP/Icons/index.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport styled from 'styled-components';\n\nfunction Icons({\n  icons,\n  onMouseDown,\n  onDoubleClick,\n  displayFocus,\n  mouse,\n  selecting,\n  setSelectedIcons,\n}) {\n  const [iconsRect, setIconsRect] = useState([]);\n  function measure(rect) {\n    if (iconsRect.find(r => r.id === rect.id)) return;\n    setIconsRect(iconsRect => [...iconsRect, rect]);\n  }\n  useEffect(() => {\n    if (!selecting) return;\n    const sx = Math.min(selecting.x, mouse.docX);\n    const sy = Math.min(selecting.y, mouse.docY);\n    const sw = Math.abs(selecting.x - mouse.docX);\n    const sh = Math.abs(selecting.y - mouse.docY);\n    const selectedIds = iconsRect\n      .filter(rect => {\n        const { x, y, w, h } = rect;\n        return x - sx < sw && sx - x < w && y - sy < sh && sy - y < h;\n      })\n      .map(icon => icon.id);\n    setSelectedIcons(selectedIds);\n  }, [iconsRect, setSelectedIcons, selecting, mouse.docX, mouse.docY]);\n  return (\n    <IconsContainer>\n      {icons.map(icon => (\n        <StyledIcon\n          key={icon.id}\n          {...icon}\n          displayFocus={displayFocus}\n          onMouseDown={onMouseDown}\n          onDoubleClick={onDoubleClick}\n          measure={measure}\n        />\n      ))}\n    </IconsContainer>\n  );\n}\n\nfunction Icon({\n  title,\n  onMouseDown,\n  onDoubleClick,\n  icon,\n  className,\n  id,\n  component,\n  measure,\n}) {\n  const ref = useRef(null);\n  function _onMouseDown() {\n    onMouseDown(id);\n  }\n  function _onDoubleClick() {\n    onDoubleClick(component);\n  }\n  useEffect(() => {\n    const target = ref.current;\n    if (!target) return;\n    const { left, top, width, height } = ref.current.getBoundingClientRect();\n    const posX = left + window.scrollX;\n    const posY = top + window.scrollY;\n    measure({ id, x: posX, y: posY, w: width, h: height });\n  }, [id, measure]);\n  return (\n    <div\n      className={className}\n      onMouseDown={_onMouseDown}\n      onDoubleClick={_onDoubleClick}\n      ref={ref}\n    >\n      <div className={`${className}__img__container`}>\n        <img src={icon} alt={title} className={`${className}__img`} />\n      </div>\n      <div className={`${className}__text__container`}>\n        <div className={`${className}__text`}>{title}</div>\n      </div>\n    </div>\n  );\n}\n\nconst IconsContainer = styled.div`\n  position: absolute;\n  margin-top: 40px;\n  margin-left: 40px;\n`;\n\nconst StyledIcon = styled(Icon)`\n  width: 70px;\n  margin-bottom: 30px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  &__text__container {\n    width: 100%;\n    font-size: 10px;\n    color: white;\n    text-shadow: 0 1px 1px black;\n    margin-top: 5px;\n    display: flex;\n    justify-content: center;\n\n    &:before {\n      content: '';\n      display: block;\n      flex-grow: 1;\n    }\n    &:after {\n      content: '';\n      display: block;\n      flex-grow: 1;\n    }\n  }\n  &__text {\n    padding: 0 3px 2px;\n    background-color: ${({ isFocus, displayFocus }) =>\n      isFocus && displayFocus ? '#0b61ff' : 'transparent'};\n    text-align: center;\n    flex-shrink: 1;\n  }\n  &__img__container {\n    width: 30px;\n    height: 30px;\n    filter: ${({ isFocus, displayFocus }) =>\n      isFocus && displayFocus ? 'drop-shadow(0 0 blue)' : ''};\n  }\n  &__img {\n    width: 30px;\n    height: 30px;\n    opacity: ${({ isFocus, displayFocus }) =>\n      isFocus && displayFocus ? 0.5 : 1};\n  }\n`;\n\nexport default Icons;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}